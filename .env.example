# Case Management System - Environment Configuration Template
# Copy this file to .env.development, .env.staging, or .env.production
# Fill in the appropriate values for your environment

# =============================================================================
# GENERAL CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Application URLs
CORS_ORIGIN=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_ENVIRONMENT=development

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database
DATABASE_URL="postgresql://admin:password@localhost:5432/case_management?schema=public"
DB_PASSWORD=password

# Database Connection Pool Settings
DB_CONNECTION_LIMIT=10
DB_CONNECTION_TIMEOUT=30000

# PostgreSQL specific settings
POSTGRES_DB=case_management
POSTGRES_USER=admin
POSTGRES_PASSWORD=password

# =============================================================================
# REDIS CONFIGURATION (Session & Cache)
# =============================================================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=

# Redis Session Settings
REDIS_SESSION_TTL=86400
REDIS_KEY_PREFIX=case_mgmt:

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
SESSION_MAX_AGE=86400000

# Password Hashing
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# FILE STORAGE (AWS S3 or MinIO)
# =============================================================================
# AWS S3 Configuration (Production)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=case-management-documents

# MinIO Configuration (Development)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=http://localhost:9000
MINIO_BUCKET=case-documents
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123

# File Upload Settings
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png,gif

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SendGrid (Production)
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME="Case Management System"

# SMTP Configuration (Development - MailHog)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Email Templates
EMAIL_TEMPLATE_NEW_CASE=new-case-notification
EMAIL_TEMPLATE_ASSIGNMENT=case-assignment
EMAIL_TEMPLATE_STATUS_CHANGE=status-change

# =============================================================================
# N8N AUTOMATION INTEGRATION
# =============================================================================
N8N_WEBHOOK_URL=http://localhost:5678/webhook
N8N_API_KEY=
N8N_BASE_URL=http://localhost:5678

# Webhook Authentication
WEBHOOK_SECRET=your-webhook-secret-key

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry Error Tracking
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# New Relic APM
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=case-management-system

# Google Analytics
NEXT_PUBLIC_GA_TRACKING_ID=

# Health Check Settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
# pgAdmin
PGADMIN_EMAIL=admin@localhost
PGADMIN_PASSWORD=admin123

# Grafana
GRAFANA_ADMIN_PASSWORD=admin123
GRAFANA_SECRET_KEY=your-grafana-secret-key
GRAFANA_DB_NAME=grafana
GRAFANA_DB_USER=grafana_user
GRAFANA_DB_PASSWORD=grafana_password

# =============================================================================
# PRODUCTION SPECIFIC SETTINGS
# =============================================================================
# Domain Configuration
DOMAIN_NAME=yourdomain.com
ACME_EMAIL=admin@yourdomain.com

# SSL/TLS
TRAEFIK_LOG_LEVEL=INFO

# Database Backup
DB_BACKUP_SCHEDULE="0 2 * * *"
DB_BACKUP_RETENTION_DAYS=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Feature toggles for gradual rollout
FEATURE_ADVANCED_REPORTING=false
FEATURE_BULK_OPERATIONS=false
FEATURE_AUDIT_TRAIL=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_FILE_UPLOADS=true

# =============================================================================
# API RATE LIMITING & THROTTLING
# =============================================================================
# Global rate limits
API_RATE_LIMIT_POINTS=100
API_RATE_LIMIT_DURATION=60

# Specific endpoint limits
AUTH_RATE_LIMIT_POINTS=5
AUTH_RATE_LIMIT_DURATION=900

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Application-level caching
CACHE_TTL_DEFAULT=300
CACHE_TTL_USER_DATA=600
CACHE_TTL_REPORTS=1800

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================
# Notification preferences
NOTIFICATION_QUEUE_ENABLED=true
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000

# Slack Integration (Optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#case-management

# Microsoft Teams Integration (Optional)
TEAMS_WEBHOOK_URL=

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log levels: error, warn, info, debug, verbose
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m

# Log destinations
LOG_FILE_ENABLED=true
LOG_CONSOLE_ENABLED=true
LOG_REMOTE_ENABLED=false

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Database query optimization
DB_QUERY_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000

# HTTP request timeouts
HTTP_TIMEOUT=30000
HTTP_KEEPALIVE_TIMEOUT=5000

# Memory limits (for containerized environments)
NODE_OPTIONS="--max-old-space-size=1024"

# =============================================================================
# SECURITY HEADERS
# =============================================================================
# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# HSTS
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# =============================================================================
# DEVELOPMENT SPECIFIC
# =============================================================================
# Hot reload and development tools
NEXT_TELEMETRY_DISABLED=1
DISABLE_ESLINT_PLUGIN=false
TYPESCRIPT_CHECK=true

# Debug settings
DEBUG_SQL=false
DEBUG_PERFORMANCE=false
DEBUG_MEMORY=false

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Test database (for CI/CD)
TEST_DATABASE_URL="postgresql://test_user:test_password@localhost:5432/case_management_test"

# Test data settings
TEST_DATA_SEED=true
TEST_CLEANUP_AFTER=true

# Coverage thresholds
COVERAGE_THRESHOLD_STATEMENTS=90
COVERAGE_THRESHOLD_BRANCHES=85
COVERAGE_THRESHOLD_FUNCTIONS=90
COVERAGE_THRESHOLD_LINES=90